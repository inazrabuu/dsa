map = {}
for item in arr:
  udpate map count
  if condition met:
    update result